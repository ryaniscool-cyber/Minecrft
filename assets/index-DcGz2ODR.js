import*as n from"https://unpkg.com/three@0.161.0/build/three.module.js";import{PointerLockControls as L}from"https://unpkg.com/three@0.161.0/examples/jsm/controls/PointerLockControls.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();const d=new n.Scene;d.background=new n.Color(8900331);const f=new n.PerspectiveCamera(75,innerWidth/innerHeight,.1,1e3);f.position.set(0,15,30);const a=new n.WebGLRenderer({antialias:!0});a.setSize(innerWidth,innerHeight);a.setPixelRatio(devicePixelRatio);document.body.appendChild(a.domElement);const x=new n.AmbientLight(16777215,.7);d.add(x);const w=new n.DirectionalLight(16777215,1.2);w.position.set(50,100,50);d.add(w);const p=1,g=20,b=20,M=new n.BoxGeometry(p,p,p);for(let r=-g/2;r<g/2;r++)for(let t=-b/2;t<b/2;t++){const l=Math.floor(Math.random()*4);for(let i=0;i<=l;i++){const e=new n.MeshLambertMaterial({color:i===l?5614131:9132587}),o=new n.Mesh(M,e);o.position.set(r,i,t),d.add(o)}}const S=new n.PlaneGeometry(200,200),P=new n.MeshLambertMaterial({color:2263842}),y=new n.Mesh(S,P);y.rotation.x=-Math.PI/2;y.position.y=-1;d.add(y);const s=new L(f,a.domElement);document.addEventListener("click",()=>s.lock());const c={};document.addEventListener("keydown",r=>c[r.code]=!0);document.addEventListener("keyup",r=>c[r.code]=!1);let m=0,h=!0;const E=.1;function v(){if(requestAnimationFrame(v),s.isLocked){const t=new n.Vector3;c.KeyW&&(t.z-=.25),c.KeyS&&(t.z+=.25),c.KeyA&&(t.x-=.25),c.KeyD&&(t.x+=.25),s.moveRight(t.x),s.moveForward(t.z),m-=E,s.getObject().position.y+=m,s.getObject().position.y<5&&(s.getObject().position.y=5,m=0,h=!0),c.Space&&h&&(m=.4,h=!1)}a.render(d,f)}v();window.addEventListener("resize",()=>{f.aspect=innerWidth/innerHeight,f.updateProjectionMatrix(),a.setSize(innerWidth,innerHeight)});
